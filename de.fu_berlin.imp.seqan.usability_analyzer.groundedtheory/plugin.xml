<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="de.fu_berlin.imp.seqan.usability_analyzer.category"
            class="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.views.CodeView"
            id="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.views.CodeView"
            name="Codes"
            restorable="true">
      </view>
   </extension>
     <extension
         point="org.eclipse.ui.commands">
      <command
            id="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.addCodeInstance"
            name="Add Code...">
      </command>
      <command
            id="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.removeCode"
            name="Remove Code...">
      </command>
      <command
            id="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.deleteCode"
            name="Delete Code...">
      </command>
   </extension>
     <extension
           point="org.eclipse.ui.handlers">
        <handler
              class="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.handlers.AddCodeInstanceHandler"
              commandId="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.addCodeInstance">
           <activeWhen>
              <with
                    variable="selection">
                 <iterate
                       ifEmpty="false"
                       operator="or">
                    <adapt
                          type="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.model.ICodeable">
                    </adapt>
                 </iterate>
              </with>
           </activeWhen>
        </handler>
        <handler
              class="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.handlers.RemoveCodeHandler"
              commandId="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.removeCode">
           <activeWhen>
              <with
                    variable="selection">
                 <iterate
                       ifEmpty="false"
                       operator="or">
                    <adapt
                          type="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.model.ICode">
                    </adapt>
                 </iterate>
              </with>
           </activeWhen>
        </handler>
        <handler
              class="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.handlers.DeleteCodeHandler"
              commandId="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.deleteCode">
           <activeWhen>
              <with
                    variable="selection">
                 <iterate
                       ifEmpty="false"
                       operator="or">
                    <adapt
                          type="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.model.ICode">
                    </adapt>
                 </iterate>
              </with>
           </activeWhen>
        </handler>
     </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.addCodeInstance"
               style="push">
         </command>
         <separator
               name="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.separator1">
         </separator>
         <command
               commandId="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.removeCode"
               style="push">
         </command>
         <command
               commandId="de.fu_berlin.imp.seqan.usability_analyzer.code.commands.deleteCode"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <serviceFactory
            factoryClass="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.services.impl.ServiceFactory">
         <service
               serviceClass="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.services.ICodeService">
         </service>
      </serviceFactory>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.preferences.SUAGTPreferences"
            id="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.preferences.SUAGTPreferences"
            name="Grounded Theory Preferences">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.preferences.SUAGTPreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="*">
         <view
               closeable="false"
               id="de.fu_berlin.imp.seqan.usability_analyzer.groundedtheory.views.CodeView"
               minimized="false"
               moveable="true"
               ratio="0.5"
               relationship="bottom"
               relative="de.fu_berlin.imp.seqan.usability_analyzer.doclog.views.DoclogTimelineView"
               standalone="false"
               visible="true">
         </view>
      </perspectiveExtension>
   </extension>
</plugin>
